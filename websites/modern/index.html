<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache">
    <title>v-nomp</title>
    <link rel="icon" type="image/png" href="/static/favicon.png"/>
    <link rel="stylesheet" href="/static/css/bootstrap.min.css">
    <link rel="stylesheet" href="/static/css/all.min.css">
    <link rel="stylesheet" href="/static/css/nv.d3.css">
    <link rel="stylesheet" href="/static/css/style.css">
    <script src="/static/scripts/jquery.min.js"></script>
    <script src="/static/scripts/popper.min.js"></script>
    <script src="/static/scripts/bootstrap.min.js"></script>
    <script src="/static/scripts/d3.v3.min.js"></script>
    <script src="/static/scripts/nv.d3.js"></script>
    <script src="/static/main.js"></script>
    <script src="/static/js/utils.js"></script>
</head>
<body class="page-not-ready">
    <header>
        <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
            <div class="container">
                <a href="/" class="navbar-brand hot-swapper"><i class="fa fa-home"></i> v-nomp</a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav ml-auto">
                        <li class="nav-item {{? it.selected === 'getting_started' }}active{{?}}">
                            <a class="nav-link hot-swapper" href="/getting_started"><i class="fa fa-rocket"></i> Getting Started</a>
                        </li>
                        <li class="nav-item {{? it.selected === 'stats' }}active{{?}}">
                            <a class="nav-link hot-swapper" href="/stats"><i class="fa fa-chart-bar"></i> Graph Stats</a>
                        </li>
                        <li class="nav-item {{? it.selected === 'tbs' }}active{{?}}">
                            <a class="nav-link hot-swapper" href="/tbs"><i class="fa fa-table"></i> Tab Stats</a>
                        </li>
                        <li class="nav-item {{? it.selected === 'workers' }}active{{?}}">
                            <a class="nav-link hot-swapper" href="/workers"><i class="fa fa-cogs"></i> Miner Stats</a>
                        </li>
                        <li class="nav-item {{? it.selected === 'payments' }}active{{?}}">
                            <a class="nav-link hot-swapper" href="/payments"><i class="fa fa-money-bill-alt"></i> Payments</a>
                        </li>
                        <li class="nav-item {{? it.selected === 'api' }}active{{?}}">
                            <a class="nav-link hot-swapper" href="/api"><i class="fa fa-code"></i> API</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>

    <main class="container mt-4">
        {{=it.page}}
    </main>

    <!-- flexible spacer inserted to push the footer down when page content is small -->
    <div id="pageSpacer" class="page-spacer" aria-hidden="true"></div>

    <footer class="bg-dark text-white text-center py-3 mt-4">
        <div class="container">
            <p>This site is powered by the open source <a target="_blank" href="https://github.com/TheComputerGenie/v-nomp/">v-nomp</a> and is licensed under the <a href="https://www.gnu.org/licenses/gpl-3.0.en.html#license-text">GPL3 License</a>.</p>
            <p><i class="fa fa-heart"></i> Support this project by donating VRSC: RCGxKMDxZcBGRZkxvgCRAXGpiQFt8wU7Wq</p>
        </div>
    </footer>
</body>
<script>
    (function() {
        // Desired minimum page height expressed as fraction of viewport height.
        // Can be overridden by setting CSS variable --page-spacer-min on <body>, e.g.
        // <body style="--page-spacer-min:0.5"> to use 50% of viewport.
        function parseMin(value) {
            if (!value) return 0.6;
            value = value.trim();
            if (value.endsWith('%')) {
                return parseFloat(value) / 100;
            }
            var f = parseFloat(value);
            if (isNaN(f)) return 0.6;
            // if it's >1, assume percentage like 60 -> 0.6
            if (f > 1) return f / 100;
            return f;
        }

        function sizePageSpacer() {
            var spacer = document.getElementById('pageSpacer');
            var main = document.querySelector('main.container');
            var footer = document.querySelector('footer');
            if (!spacer || !main || !footer) return;

            var bodyStyle = getComputedStyle(document.body);
            var minFrac = parseMin(bodyStyle.getPropertyValue('--page-spacer-min'));
            var viewportHeight = window.innerHeight || document.documentElement.clientHeight;
            var desiredTotal = viewportHeight * minFrac;

            var mainRect = main.getBoundingClientRect();
            var contentBottom = mainRect.bottom;
            var footerHeight = footer.getBoundingClientRect().height;

            // Compute how much spacer is needed so (contentBottom + footerHeight + spacer) >= desiredTotal
            var needed = desiredTotal - (contentBottom + footerHeight);
            spacer.style.height = (needed > 0 ? needed : 0) + 'px';
            // Reveal the spacer only after its size is set so users don't see it animate into place.
            spacer.style.visibility = 'visible';
        }

        // Try sizing immediately (script is at the end of body so DOM elements exist)
        sizePageSpacer();
        // Mark page ready after initial sizing so footer/spacer are revealed without animation
        document.body.classList.remove('page-not-ready');
        document.body.classList.add('page-ready');

        window.addEventListener('load', function() {
            sizePageSpacer();
            document.body.classList.remove('page-not-ready');
            document.body.classList.add('page-ready');
        });
        window.addEventListener('resize', sizePageSpacer);
        // Run after a short delay to catch late DOM changes
        setTimeout(function() { sizePageSpacer(); document.body.classList.remove('page-not-ready'); document.body.classList.add('page-ready'); }, 300);
    })();
</script>
</html>
